<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>async</title>
</head>
<body>
  <h1>async study</h1>
  <h3> "async" k only function er purbey likha jai. <br> taholey amra function thekey akta promise return pabo, r sei promise thekey ".then" diye response ta received korty hby. </h3>
  <br><br>
  <h2>From General Fetch Load</h2>
  <ul id="myList1">

  </ul><br><br>
  <h2>From async Fetch Load</h2>
  <ul id="myList2">

  </ul><br><br>

  <script>
    // General data load by using fetch 
    function LoadData(){
      fetch('https://jsonplaceholder.typicode.com/users')
      .then(res => res.json())
      .then( data => {
        DisplayData1(data);
      })
    };
    LoadData();
    function DisplayData1(data){
      const parentNode = document.getElementById("myList1");
      for (let i = 0; i < data.length; i++) {
        const user = data[i];
        const child = document.createElement("li");
        child.innerText = user.name;
        parentNode.appendChild(child);
      };
    };

    // load data by using async 
    async function hello(name) { // 
      return 'Hello ' + name;
    };
    console.log(hello("Sabbir"));
    const user = hello('Sabbir')
    user.then( res => console.log(res));

    async function LoadData2(){
      const data = await fetch('https://jsonplaceholder.typicode.com/users');
      const users = await data.json();
      return users;
    };

    LoadData2().then( res => { 
      DisplayData2(res);
    });

    function DisplayData2(data){
      const parentNode = document.getElementById("myList2");
      for (let i = 0; i < data.length; i++) {
        const user = data[i];
        const child = document.createElement("li");
        child.innerText = user.name;
        parentNode.appendChild(child);
      };
    };

  </script>
</body>
</html>